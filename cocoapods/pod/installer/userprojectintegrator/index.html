<!DOCTYPE html><html><head><meta charset="utf-8" /><meta content="documenation cocoapods objective-c packcage manager" name="keywords" /><title>UserProjectIntegrator</title><link href="../../../../favicon.ico" rel="icon" type="image/ico" /><link href="../../../../css/bootstrap.min-52b04d8e.css" media="screen" rel="stylesheet" type="text/css" />
<link href="../../../../css/font-awesome-a5000aac.css" media="screen" rel="stylesheet" type="text/css" />
<link href="../../../../css/style-fc0fe55f.css" media="screen" rel="stylesheet" type="text/css" />
<link href="../../../../css/style2-6993d0a5.css" media="screen" rel="stylesheet" type="text/css" /><script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script><script src="../../../../js/javascript-46faf48a.js" type="text/javascript"></script>
<script src="../../../../js/bootstrap.min-e0886b3c.js" type="text/javascript"></script></head><body><div class="container"><div id="body"><div id="sections-container"><ul class="breadcrumb"><li id="logo"><a href="http://cocoapods.org">CocoaPods</a><span class="divider">/</span></li><li><a href="../../../../index.html">Docs</a><span class="divider">/</span></li><li><a href="../../../index.html">CocoaPods</a><span class="divider">/</span></li><li><a href="../../index.html">Pod</a><span class="divider">/</span></li><li><a href="../index.html">Installer</a><span class="divider">/</span></li><li class="active">UserProjectIntegrator</li></ul></div><div class="page-container"><div id="tab-controller"><div id="methods-container"><div id="header"><h1><a class="select-tab" href="#tab_userprojectintegrator">UserProjectIntegrator</a></h1></div></div><div class ='methods_list'><div class ='row'><div class ='span3'><p><a class='select-tab' href=#tab_podfile>podfile</a></p><p><a class='select-tab' href=#tab_pods_project>pods_project</a></p><p><a class='select-tab' href=#tab_project_root>project_root</a></p></div><div class ='span3'><p><a class='select-tab' href=#tab_initialize>initialize</a></p><p><a class='select-tab' href=#tab_integrate_bang>integrate!</a></p><p><a class='select-tab' href=#tab_create_workspace>create_workspace</a></p></div><div class ='span3'><p><a class='select-tab' href=#tab_integrate_user_targets>integrate_user_targets</a></p><p><a class='select-tab' href=#tab_warn_about_empty_podfile>warn_about_empty_podfile</a></p><p><a class='select-tab' href=#tab_workspace_path>workspace_path</a></p></div><div class ='span3'><p><a class='select-tab' href=#tab_user_project_paths>user_project_paths</a></p></div></div></div></div><div id="content-container"><div class="tab-content"><div class="tab-pane" id="tab_userprojectintegrator"><h2>UserProjectIntegrator</h2><p>The <code>UserProjectIntegrator</code> integrates the libraries generated by
TargetDefinitions of the <code><a href="../../../../cocoapods_core/pod/podfile/index.html">Podfile</a></code> with their correspondent user
projects.</p>
<h3>Inherits from:</h3><p><code><a href="../../../../xcodeproj/object/index.html">Object</a></code></p><h3>Child Name Spaces</h3><p><code><a href="targetintegrator/index.html">Pod::Installer::UserProjectIntegrator::TargetIntegrator</a></code></p></div><div class="tab-pane" id="tab_group_"><h2></h2><p>podfile</p><p>pods_project</p><p>project_root</p><p>initialize</p><p>integrate!</p><p>create_workspace</p><p>integrate_user_targets</p><p>warn_about_empty_podfile</p><p>workspace_path</p><p>user_project_paths</p></div><div class="tab-pane" id="tab_podfile"><h2>podfile<a class="select-tab" href=""><span class="label label-big">attribute</span></a></h2><h3>Signature</h3><div class="highlight"><pre><span class="n">podfile</span> <span class="c1">#=&gt; Podfile </span>
</pre></div><h3>Returns</h3><p><code><a href="../../../../cocoapods_core/pod/podfile/index.html">Podfile</a></code> <p>The podfile that should be integrated with the user
projects.</p>
</p><h3>Source Files</h3><p class="source_file"><i class="icon-link"></i> <a href="https://github.com/CocoaPods/CocoaPods/blob/master/lib/cocoapods/installer/user_project_integrator.rb#L19">lib/cocoapods/installer/user_project_integrator.rb:19</a></p><p class="source_file"><i class="icon-link"></i> <a href="https://github.com/CocoaPods/CocoaPods/blob/master/spec/unit/installer/user_project_integrator_spec.rb">spec/unit/installer/user_project_integrator_spec.rb</a></p></div><div class="tab-pane" id="tab_pods_project"><h2>pods_project<a class="select-tab" href=""><span class="label label-big">attribute</span></a></h2><h3>Signature</h3><div class="highlight"><pre><span class="n">pods_project</span> <span class="c1">#=&gt; Project </span>
</pre></div><h3>Returns</h3><p><code><a href="../../project/index.html">Project</a></code> <p>The pods project which contains the libraries to
integrate.</p>
</p><h3>Source Files</h3><p class="source_file"><i class="icon-link"></i> <a href="https://github.com/CocoaPods/CocoaPods/blob/master/lib/cocoapods/installer/user_project_integrator.rb#L24">lib/cocoapods/installer/user_project_integrator.rb:24</a></p><p class="source_file"><i class="icon-link"></i> <a href="https://github.com/CocoaPods/CocoaPods/blob/master/spec/unit/installer/user_project_integrator_spec.rb">spec/unit/installer/user_project_integrator_spec.rb</a></p></div><div class="tab-pane" id="tab_project_root"><h2>project_root<a class="select-tab" href=""><span class="label label-big">attribute</span></a></h2><p>TODO: This is only used to compute the workspace path in case that it
      should be inferred by the project. If the workspace should be in
      the same dir of the project, this could be removed.</p>
<h3>Signature</h3><div class="highlight"><pre><span class="n">project_root</span> <span class="c1">#=&gt; Pathname </span>
</pre></div><h3>Returns</h3><p><code><a href="../../../pathname/index.html">Pathname</a></code> The path of the installation.
</p><h3>Source Files</h3><p class="source_file"><i class="icon-link"></i> <a href="https://github.com/CocoaPods/CocoaPods/blob/master/lib/cocoapods/installer/user_project_integrator.rb#L32">lib/cocoapods/installer/user_project_integrator.rb:32</a></p><p class="source_file"><i class="icon-link"></i> <a href="https://github.com/CocoaPods/CocoaPods/blob/master/spec/unit/installer/user_project_integrator_spec.rb">spec/unit/installer/user_project_integrator_spec.rb</a></p></div><div class="tab-pane" id="tab_initialize"><h2>initialize</h2><h3>Signature</h3><div class="highlight"><pre><span class="kp">initialize</span><span class="p">(</span><span class="n">podfile</span><span class="p">,</span> <span class="n">pods_project</span><span class="p">,</span> <span class="n">project_root</span><span class="p">)</span> <span class="c1">#=&gt; UserProjectIntegrator </span>
</pre></div><h3>Parameters</h3><p><code>Podfile</code><span> </span><b> podfile</b></p><p>@see #podfile.</p>
<h3>Returns</h3><p><code><a href="index.html">UserProjectIntegrator</a></code> A new instance of UserProjectIntegrator
</p><h3>Source</h3><div class="highlight"><pre><span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">podfile</span><span class="p">,</span> <span class="n">pods_project</span><span class="p">,</span> <span class="n">project_root</span><span class="p">)</span>
  <span class="vi">@podfile</span>      <span class="o">=</span> <span class="n">podfile</span>
  <span class="vi">@pods_project</span> <span class="o">=</span> <span class="n">pods_project</span>
  <span class="vi">@project_root</span> <span class="o">=</span> <span class="n">project_root</span>
<span class="k">end</span>
</pre></div><h3>Source Files</h3><p class="source_file"><i class="icon-link"></i> <a href="https://github.com/CocoaPods/CocoaPods/blob/master/lib/cocoapods/installer/user_project_integrator.rb#L36">lib/cocoapods/installer/user_project_integrator.rb:36</a></p><p class="source_file"><i class="icon-link"></i> <a href="https://github.com/CocoaPods/CocoaPods/blob/master/spec/unit/installer/user_project_integrator_spec.rb">spec/unit/installer/user_project_integrator_spec.rb</a></p></div><div class="tab-pane" id="tab_integrate_bang"><h2>integrate!</h2><p>Integrates the user projects associated with the <code>TargetDefinitions</code>
with the Pods project and its products.</p>
<h3>Signature</h3><div class="highlight"><pre><span class="n">integrate!</span> <span class="c1">#=&gt; void </span>
</pre></div><h3>Returns</h3><p><code>void</code> </p><h3>Source</h3><div class="highlight"><pre><span class="k">def</span> <span class="nf">integrate!</span>
  <span class="n">create_workspace</span>
  <span class="n">integrate_user_targets</span>
  <span class="n">warn_about_empty_podfile</span>
<span class="k">end</span>
</pre></div><h3>Source Files</h3><p class="source_file"><i class="icon-link"></i> <a href="https://github.com/CocoaPods/CocoaPods/blob/master/lib/cocoapods/installer/user_project_integrator.rb#L47">lib/cocoapods/installer/user_project_integrator.rb:47</a></p><p class="source_file"><i class="icon-link"></i> <a href="https://github.com/CocoaPods/CocoaPods/blob/master/spec/unit/installer/user_project_integrator_spec.rb">spec/unit/installer/user_project_integrator_spec.rb</a></p></div><div class="tab-pane" id="tab_create_workspace"><h2>create_workspace</h2><p>Creates and saved the workspace containing the Pods project and the
user projects.</p>
<h3>Signature</h3><div class="highlight"><pre><span class="n">create_workspace</span> <span class="c1">#=&gt; void </span>
</pre></div><h3>Returns</h3><p><code>void</code> </p><h3>Source</h3><div class="highlight"><pre><span class="k">def</span> <span class="nf">create_workspace</span>
  <span class="n">workspace</span> <span class="o">=</span> <span class="no">Xcodeproj</span><span class="o">::</span><span class="no">Workspace</span><span class="o">.</span><span class="n">new_from_xcworkspace</span><span class="p">(</span><span class="n">workspace_path</span><span class="p">)</span>
  <span class="o">[</span><span class="n">pods_project</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="o">*</span><span class="n">user_project_paths</span><span class="o">].</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">project_path</span><span class="o">|</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">project_path</span><span class="o">.</span><span class="n">relative_path_from</span><span class="p">(</span><span class="n">workspace_path</span><span class="o">.</span><span class="n">dirname</span><span class="p">)</span><span class="o">.</span><span class="n">to_s</span>
    <span class="n">workspace</span> <span class="o">&lt;&lt;</span> <span class="n">path</span> <span class="k">unless</span> <span class="n">workspace</span><span class="o">.</span><span class="n">include?</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
  <span class="k">end</span>
  <span class="k">unless</span> <span class="n">workspace_path</span><span class="o">.</span><span class="n">exist?</span>
    <span class="no">UI</span><span class="o">.</span><span class="n">notice</span> <span class="s2">&quot;From now on use `</span><span class="si">#{</span><span class="n">workspace_path</span><span class="o">.</span><span class="n">basename</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
  <span class="k">end</span>
  <span class="n">workspace</span><span class="o">.</span><span class="n">save_as</span><span class="p">(</span><span class="n">workspace_path</span><span class="p">)</span>
<span class="k">end</span>
</pre></div><h3>Source Files</h3><p class="source_file"><i class="icon-link"></i> <a href="https://github.com/CocoaPods/CocoaPods/blob/master/lib/cocoapods/installer/user_project_integrator.rb#L64">lib/cocoapods/installer/user_project_integrator.rb:64</a></p><p class="source_file"><i class="icon-link"></i> <a href="https://github.com/CocoaPods/CocoaPods/blob/master/spec/unit/installer/user_project_integrator_spec.rb">spec/unit/installer/user_project_integrator_spec.rb</a></p></div><div class="tab-pane" id="tab_integrate_user_targets"><h2>integrate_user_targets</h2><p>Integrates the targets of the user projects with the libraries
generated from the <code><a href="../../../../cocoapods_core/pod/podfile/index.html">Podfile</a></code>.</p>
<h3>Signature</h3><div class="highlight"><pre><span class="n">integrate_user_targets</span> <span class="c1">#=&gt; void </span>
</pre></div><h3>Returns</h3><p><code>void</code> </p><h3>Source</h3><div class="highlight"><pre><span class="k">def</span> <span class="nf">integrate_user_targets</span>
  <span class="n">pods_project</span><span class="o">.</span><span class="n">libraries</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">lib</span><span class="o">|</span>
    <span class="k">next</span> <span class="k">if</span> <span class="n">lib</span><span class="o">.</span><span class="n">target_definition</span><span class="o">.</span><span class="n">empty?</span>
    <span class="no">TargetIntegrator</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">lib</span><span class="p">)</span><span class="o">.</span><span class="n">integrate!</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div><h3>Source Files</h3><p class="source_file"><i class="icon-link"></i> <a href="https://github.com/CocoaPods/CocoaPods/blob/master/lib/cocoapods/installer/user_project_integrator.rb#L85">lib/cocoapods/installer/user_project_integrator.rb:85</a></p><p class="source_file"><i class="icon-link"></i> <a href="https://github.com/CocoaPods/CocoaPods/blob/master/spec/unit/installer/user_project_integrator_spec.rb">spec/unit/installer/user_project_integrator_spec.rb</a></p></div><div class="tab-pane" id="tab_warn_about_empty_podfile"><h2>warn_about_empty_podfile</h2><p>Warns the user if the podfile is empty.</p>
<h3>Signature</h3><div class="highlight"><pre><span class="n">warn_about_empty_podfile</span> <span class="c1">#=&gt; void </span>
</pre></div><h3>Returns</h3><p><code>void</code> </p><h3>Source</h3><div class="highlight"><pre><span class="k">def</span> <span class="nf">warn_about_empty_podfile</span>
  <span class="k">unless</span> <span class="n">podfile</span><span class="o">.</span><span class="n">target_definitions</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">any?</span><span class="p">{</span> <span class="o">|</span><span class="n">td</span><span class="o">|</span> <span class="o">!</span><span class="n">td</span><span class="o">.</span><span class="n">empty?</span> <span class="p">}</span>
    <span class="no">UI</span><span class="o">.</span><span class="n">warn</span> <span class="s2">&quot;[!] The Podfile does not contain any dependency.&quot;</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div><h3>Source Files</h3><p class="source_file"><i class="icon-link"></i> <a href="https://github.com/CocoaPods/CocoaPods/blob/master/lib/cocoapods/installer/user_project_integrator.rb#L103">lib/cocoapods/installer/user_project_integrator.rb:103</a></p><p class="source_file"><i class="icon-link"></i> <a href="https://github.com/CocoaPods/CocoaPods/blob/master/spec/unit/installer/user_project_integrator_spec.rb">spec/unit/installer/user_project_integrator_spec.rb</a></p></div><div class="tab-pane" id="tab_workspace_path"><h2>workspace_path</h2><h3>Signature</h3><div class="highlight"><pre><span class="n">workspace_path</span> <span class="c1">#=&gt; Pathname </span>
</pre></div><h3>Returns</h3><p><code><a href="../../../pathname/index.html">Pathname</a></code> <p>The path where the workspace containing the Pods
project and the user projects should be saved.</p>
</p><h3>Source</h3><div class="highlight"><pre><span class="k">def</span> <span class="nf">workspace_path</span>
  <span class="k">if</span> <span class="n">podfile</span><span class="o">.</span><span class="n">workspace_path</span>
    <span class="n">podfile</span><span class="o">.</span><span class="n">workspace_path</span>
  <span class="k">elsif</span> <span class="n">user_project_paths</span><span class="o">.</span><span class="n">count</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="n">project</span> <span class="o">=</span> <span class="n">user_project_paths</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="s1">&#39;.xcodeproj&#39;</span><span class="p">)</span>
    <span class="n">project_root</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">project</span><span class="si">}</span><span class="s2">.xcworkspace&quot;</span>
  <span class="k">else</span>
    <span class="k">raise</span> <span class="no">Informative</span><span class="p">,</span> <span class="s2">&quot;Could not automatically select an Xcode &quot;</span> <span class="p">\</span>
      <span class="s2">&quot;workspace. Specify one in your Podfile like so:</span><span class="se">\n\n</span><span class="s2">&quot;</span>       <span class="p">\</span>
      <span class="s2">&quot;    workspace &#39;path/to/Workspace.xcworkspace&#39;</span><span class="se">\n</span><span class="s2">&quot;</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div><h3>Source Files</h3><p class="source_file"><i class="icon-link"></i> <a href="https://github.com/CocoaPods/CocoaPods/blob/master/lib/cocoapods/installer/user_project_integrator.rb#L118">lib/cocoapods/installer/user_project_integrator.rb:118</a></p><p class="source_file"><i class="icon-link"></i> <a href="https://github.com/CocoaPods/CocoaPods/blob/master/spec/unit/installer/user_project_integrator_spec.rb">spec/unit/installer/user_project_integrator_spec.rb</a></p></div><div class="tab-pane" id="tab_user_project_paths"><h2>user_project_paths</h2><h3>Signature</h3><div class="highlight"><pre><span class="n">user_project_paths</span> <span class="c1">#=&gt; Array&lt;Pathname&gt; </span>
</pre></div><h3>Returns</h3><p><code>Array<Pathname></code> <p>The paths of all the user projects referenced
by the target definitions.</p>
</p><h3>Source</h3><div class="highlight"><pre><span class="k">def</span> <span class="nf">user_project_paths</span>
  <span class="n">pods_project</span><span class="o">.</span><span class="n">libraries</span><span class="o">.</span><span class="n">map</span> <span class="k">do</span> <span class="o">|</span><span class="n">lib</span><span class="o">|</span>
    <span class="c1"># TODO: remove</span>
    <span class="k">next</span> <span class="k">if</span> <span class="n">lib</span><span class="o">.</span><span class="n">target_definition</span><span class="o">.</span><span class="n">empty?</span>
    <span class="n">lib</span><span class="o">.</span><span class="n">user_project_path</span>
  <span class="k">end</span><span class="o">.</span><span class="n">compact</span><span class="o">.</span><span class="n">uniq</span>
<span class="k">end</span>
</pre></div><h3>Source Files</h3><p class="source_file"><i class="icon-link"></i> <a href="https://github.com/CocoaPods/CocoaPods/blob/master/lib/cocoapods/installer/user_project_integrator.rb#L136">lib/cocoapods/installer/user_project_integrator.rb:136</a></p><p class="source_file"><i class="icon-link"></i> <a href="https://github.com/CocoaPods/CocoaPods/blob/master/spec/unit/installer/user_project_integrator_spec.rb">spec/unit/installer/user_project_integrator_spec.rb</a></p></div></div></div></div><div id="footer"><hr /><p class="note">Generated for CocoaPods Core HEAD.</p></div></div></div></body></html>